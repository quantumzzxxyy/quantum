**WHAT IS IT?**
This is a model of Investors interacting with Brokers and Brokers interacting with Market Makers. This is a study of the relationship of Brokers and Market Makers behaviour within this ecosystem - in terms of how Investors react to Market Maker bid ask spread, defined later and broker fees. We are trying to understand how Market Maker behavior influences investors’ appetite to trade - Market Maker behavior means the fees a market maker charges a broker to trade and notwithstanding the fees or commission a Broker charges an Investor. There are a number of influencing factors namely, number of brokers requesting trading activity via a Market Maker. This could be a one-to-one or many-to-one relationship.
The questiion Why? The modelling of interacting agents is important because market regulators are especially interested in strategies that have not yet been discovered by players in the real market, motivated by their goal of designing a regulatory structure with as few loopholes as possible, in order to prevent abuses by devious agent players. Although no reference is made to the Glosten-Milgrom model, where market dynamics converges to an analytically tractable equilibrium. the model aspires to demonstrate an equilibrium state.
What are the agents? Agents are: Investors “Blue” people; Brokers “RED” boxes; Market Makers “Green” triangles; Pink agents are momentarily not participating - explained later.
The approach allows us to investigate scenarios where market dynamics may deviate from equilibrium and situations where the market changes suddenly, or undergoes a phase transition, or other dramatic change.
There are three types of agent. 1) Investors, 2) Brokers and 3) Market Makers ( the dynamic links also posess agent properties which illustrate the dynamic configuration of graph links ). We want to understand the behavior of Market Makers under certain trading conditions. Investors interact with Brokers and Brokers interact with Market Makers, the loop is closed via feed-back through total cost to trade back to Investors who have a threshold set by a slider - by the user.
The bid ask spread features significantly in this model and an understanding of it is important. I will refer to a textbook definition taken from the references below in “credits and references”.
A bid-ask spread is the amount by which the ask price exceeds the bid price for an asset in the market.
The bid-ask spread is essentially the difference between the highest price that a buyer is willing to pay for an asset and the lowest price that a seller is willing to accept to sell it.
The bid-ask spread is a reflection of the supply and demand for a particular asset. The bids represent the demand, and the asks represent the supply for the asset. The depth of the bids and the asks can have a significant impact on the bid-ask spread, making it widen significantly if one outweighs the other or if both are not robust. Market makers and traders make money by exploiting the bid-ask spread and the depth of bids and asks to net the spread difference as a profit.
The example here is like the El Farol problem in that investors rely on global information - for exanple average market maker threshold and to some extent broker fees or commission.
Finally, what is an agent? See reference below. Minimum properties: autonomy, reactivity, proactivity, sociability.
HOW IT WORKS
Agents are coloured Pink, Green, Red and Blue. Pink agents do not participate in trading; Green, Red and Blue agents are trading participants - all agents are selected randomly. For a particular agent type their colour or selection changes tick by tick (tick time is the cycle time of the model).
The user selects the population of agent Investors ( population-of-investorsx ). The system randomly selects a subset (coloured blue person) - these agents are active Investors and will now participate in trading in terms of interacting with Brokers (red box).
The blue Investor agents have a trading charge/fees threshold (called investor-threshold) if the charges or fees exceed this threshold the program STOPS! Investors randomly connect to Broker agents (red), multiple Investors can connect to the same Broker - the more agents connected to a broker indicates a higher demand for that
Broker. Broker fees are related to Broker demand. Brokers randomly connect to Market Maker agents (green triangles). Market Maker demand depends on the number of Broker connections to a Market Maker.
The bid-ask spread is weighted by Market Maker demand and broker commission. This means that there is a feedback mechanism as follows.
For a given Investor threshold (in terms of total fees and commissions that an investor is prepaired to accept). Investor, Broker, Market Maker interaction will take place. If the mean market threshold exceeds that of the Investor threshold, the program then stops because the Investor is not prepaired to pay the fees.
Let’s suppose that we pre-select 10 investors, 5 brokers and 2 market makers, clicking go-once randomly selects say 8 investors, 2 brokers and 1 market maker. We want to find
what arrangement with what interface settings causes this agent model to STOP - which indicates the threshold appetite of investors before they effectively say we are not paying anymore fees ( broker plus market maker fees).
The command centre prints the final STOP parameters for reference.
HOW TO USE IT
population-of-investors: sets the population of investors, investors are then selected randomly from this population. Non-selected investors are coloured pink. Press setup and Go-Once.
number-of-brokers: set the number of brokers; investors are then connected randomly to brokers. Non-connected brokers are coloured pink. Press setup Go-Once. number-of-market-makers: set the number of market makers; brokers are then connected to market makers. Non-connected market makers are colored pink. Press setup Go-once. number-of-stock: set up initial stock size. This is a driver to work out broker fees.
Fees are proportional to stock size ( supply and demand). broker-initial-commission: this determines the broker commission as a fraction of the broker maximum investment which is the sum of max investment of all Linked-in neighbors, randomly determined from the initial stock setting size of number-of-stocks. bid-ask-spread-percentage: See bid ask spread definition described in this info page. investor-threshold: This is the driver for setting the STOP threshold. It sets the cost threashold.
set-up: set up agents: investors, brokers, market makers, and initialise agent parameters set to zero and randomly set from interface settings. market-maker-STOP-threhold: An information tracker of the STOP threashold through tick time - how it dynamically changes. go-once: execute program once. go: Repeat execution of program. market-maker-mean-stop-threshold and market-maker-STOP-threshold provide history information regarding threshold history and current value. bid-ask-spread-distribution: An informative distribution relating to the bid-ask spread. decision-threshold (vertical line): An informative distribution of fee distribution across agents with an important vertical line showing how the mean threshold is changing when “go” is pressed. If this value exceeds the investor threshold the program STOPS - the vertical line is the mean value. broker-fee-distribution: An informative distribution of broker fees across red broker agents - how fees are distributed.
First set up the agents Investors, Briokers, Market Makers. Watch the interactions taking place and observe behaviour changes when varying number-of-stock, bid-ask-spread-percent, broker-initial-commission and investor-threshold. Press “go”. Stop and re start under a differet portfolios of agents. Also, find the STOP value for a given configuration and compare across configurations.
THINGS TO NOTICE
Note that some scenarios could end up with all agents pink therefore not participating. Notice agents can have many to one relationships. Notice tick time behaviour and how the system executes fora given interface settings. observe settings that show wide variation through tick time.
THINGS TO TRY
Ajust broker initial commission and bid-ask-spread and investor-threshold for a given set of agents. Count number of ticks till it stops. Click go once…repeat to see opperation in slow motion - and the difference combinations of linked agents.
Explore and investigate the balance between bid ask spread and commission. for a given STOP threshold how do you balance profit to brokers and mearket makers? Using broker commission and bid-ask spread sliders? bid-ask spread is how Market Makers make profit vs Broker comission for Broker profit!.
EXTENDING THE MODEL
Add data feeds to the model and analysing the agents with R Currently this is a basic model where a number of parameters are selected randomly.
Replace random with an algorithmic methods.
Some agent parameters have been set up but not used in the final model - this is currently work in progress and some parameters are place holders. Include more input features - linked to daily prices. Build learning strategies for the agents.
NETLOGO FEATURES
Using “links”, in particular “in-link-neighbors”: aggregating attached Investors and
Brokers; used to determine demand of a Broker and Market Maker. Using “precision”: Calculations summarised to 4 or 5 decimal places.
Graph time-base set up as a moving plot along the time (tick) axes. This ensures that the graph does not get squashed at one end. example code “set-plot-x-range (ticks - 20) ticks plotxy ticks (count investors with [color = green ])”
This model is version 1.0
RELATED MODELS
El Farol - competing for a resource, the bar on entertainment night can be considered a resource and optimising size. CREDITS AND REFERENCES
Financial Market Complexity Neil. F. Johnson et al. Oxford Finance Read more: Bid-Ask Spread http://www.investopedia.com/terms/b/bid-askspread.asp#ixzz4oQa8NCvE Read more: Bid-Ask Spread http://www.investopedia.com/terms/b/bid-askspread.asp#ixzz4pMnYr05O From Ferber J., Les systemes multi-agents Informatique, Intelligence Artificielle, Intereditions, 1995.
